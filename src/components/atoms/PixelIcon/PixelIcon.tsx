import { type FC } from 'react';
import styles from './PixelIcon.module.css';

export type IconName =
  | 'pencil'
  | 'eraser'
  | 'fill'
  | 'picker'
  | 'line'
  | 'rectangle'
  | 'undo'
  | 'redo'
  | 'grid'
  | 'symmetryH'
  | 'symmetryV'
  | 'symmetryBoth'
  | 'plus'
  | 'minus'
  | 'play'
  | 'pause'
  | 'trash'
  | 'download'
  | 'copy'
  | 'sun'
  | 'moon'
  | 'check';

export type IconSize = 'sm' | 'md' | 'lg';

export interface PixelIconProps {
  name: IconName;
  size?: IconSize;
  className?: string;
}

// 8x8 pixel art icons as path data (simplified for CSS rendering)
const iconPaths: Record<IconName, string[][]> = {
  pencil: [
    ['', '', '', '', '', '', '■', ''],
    ['', '', '', '', '', '■', '■', ''],
    ['', '', '', '', '■', '■', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '■', '■', '', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
    ['■', '', '', '', '', '', '', ''],
  ],
  eraser: [
    ['', '', '', '■', '■', '■', '', ''],
    ['', '', '■', '□', '□', '■', '■', ''],
    ['', '■', '□', '□', '□', '□', '■', ''],
    ['■', '□', '□', '□', '□', '■', '', ''],
    ['■', '□', '□', '□', '■', '', '', ''],
    ['■', '□', '□', '■', '', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  fill: [
    ['', '', '', '■', '', '', '', ''],
    ['', '', '■', '□', '■', '', '', ''],
    ['', '', '■', '□', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '', '■', '■', '', ''],
    ['■', '■', '', '', '', '■', '■', ''],
    ['■', '□', '■', '■', '■', '□', '■', ''],
    ['', '■', '■', '■', '■', '■', '', ''],
  ],
  picker: [
    ['', '', '■', '■', '■', '', '', ''],
    ['', '■', '□', '□', '□', '■', '', ''],
    ['■', '□', '', '', '', '□', '■', ''],
    ['■', '□', '', '', '', '□', '■', ''],
    ['■', '□', '', '', '', '□', '■', ''],
    ['', '■', '□', '□', '□', '■', '', ''],
    ['', '', '■', '■', '■', '', '', ''],
    ['', '', '', '■', '', '', '', ''],
  ],
  line: [
    ['', '', '', '', '', '', '■', '■'],
    ['', '', '', '', '', '■', '■', ''],
    ['', '', '', '', '■', '■', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '■', '■', '', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
    ['■', '', '', '', '', '', '', ''],
  ],
  rectangle: [
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '', '', '', '', '', '', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
  ],
  undo: [
    ['', '', '■', '■', '', '', '', ''],
    ['', '■', '', '', '', '', '', ''],
    ['■', '', '', '', '', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '', ''],
    ['■', '', '', '', '', '', '■', ''],
    ['■', '', '', '', '', '', '■', ''],
    ['', '■', '', '', '', '', '■', ''],
    ['', '', '■', '■', '■', '■', '', ''],
  ],
  redo: [
    ['', '', '', '', '■', '■', '', ''],
    ['', '', '', '', '', '', '■', ''],
    ['', '', '', '', '', '', '', '■'],
    ['', '■', '■', '■', '■', '■', '■', '■'],
    ['', '■', '', '', '', '', '', '■'],
    ['', '■', '', '', '', '', '', '■'],
    ['', '■', '', '', '', '', '■', ''],
    ['', '', '■', '■', '■', '■', '', ''],
  ],
  grid: [
    ['■', '', '', '■', '', '', '■', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['■', '', '', '■', '', '', '■', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['■', '', '', '■', '', '', '■', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  symmetryH: [
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
  ],
  symmetryV: [
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  symmetryBoth: [
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
  ],
  plus: [
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
  ],
  minus: [
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  play: [
    ['■', '■', '', '', '', '', '', ''],
    ['■', '■', '■', '■', '', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['■', '■', '■', '■', '■', '■', '', ''],
    ['■', '■', '■', '■', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
  ],
  pause: [
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
    ['■', '■', '', '', '', '', '■', '■'],
  ],
  trash: [
    ['', '■', '■', '■', '■', '■', '■', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
    ['', '■', '', '', '', '', '■', ''],
    ['', '■', '', '■', '', '■', '■', ''],
    ['', '■', '', '■', '', '■', '■', ''],
    ['', '■', '', '■', '', '■', '■', ''],
    ['', '■', '', '■', '', '■', '■', ''],
    ['', '', '■', '■', '■', '■', '', ''],
  ],
  download: [
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['', '', '', '■', '■', '', '', ''],
    ['■', '', '', '■', '■', '', '', '■'],
    ['', '■', '', '■', '■', '', '■', ''],
    ['', '', '■', '■', '■', '■', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', '■'],
  ],
  copy: [
    ['', '■', '■', '■', '■', '■', '', ''],
    ['', '■', '', '', '', '■', '', ''],
    ['', '■', '', '', '', '■', '■', '■'],
    ['', '■', '', '', '', '■', '', '■'],
    ['', '■', '■', '■', '■', '■', '', '■'],
    ['', '', '', '■', '', '', '', '■'],
    ['', '', '', '■', '', '', '', '■'],
    ['', '', '', '■', '■', '■', '■', '■'],
  ],
  sun: [
    ['', '', '', '■', '', '', '', ''],
    ['', '■', '', '■', '', '■', '', ''],
    ['', '', '■', '■', '■', '', '', ''],
    ['■', '■', '■', '■', '■', '■', '■', ''],
    ['', '', '■', '■', '■', '', '', ''],
    ['', '■', '', '■', '', '■', '', ''],
    ['', '', '', '■', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  moon: [
    ['', '', '■', '■', '■', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
    ['■', '■', '', '', '', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['', '', '■', '■', '■', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
  check: [
    ['', '', '', '', '', '', '', '■'],
    ['', '', '', '', '', '', '■', '■'],
    ['', '', '', '', '', '■', '■', ''],
    ['', '', '', '', '■', '■', '', ''],
    ['■', '', '', '■', '■', '', '', ''],
    ['■', '■', '■', '■', '', '', '', ''],
    ['', '■', '■', '', '', '', '', ''],
    ['', '', '', '', '', '', '', ''],
  ],
};

const sizeMap: Record<IconSize, number> = {
  sm: 12,
  md: 16,
  lg: 24,
};

export const PixelIcon: FC<PixelIconProps> = ({
  name,
  size = 'md',
  className = '',
}) => {
  const pixelSize = sizeMap[size] / 8;
  const totalSize = sizeMap[size];
  const grid = iconPaths[name];

  return (
    <svg
      width={totalSize}
      height={totalSize}
      viewBox={`0 0 ${totalSize} ${totalSize}`}
      className={`${styles.icon} ${className}`}
      aria-hidden="true"
    >
      {grid.map((row, y) =>
        row.map((cell, x) => {
          if (cell === '■') {
            return (
              <rect
                key={`${x}-${y}`}
                x={x * pixelSize}
                y={y * pixelSize}
                width={pixelSize}
                height={pixelSize}
                fill="currentColor"
              />
            );
          } else if (cell === '□') {
            return (
              <rect
                key={`${x}-${y}`}
                x={x * pixelSize}
                y={y * pixelSize}
                width={pixelSize}
                height={pixelSize}
                fill="currentColor"
                opacity={0.4}
              />
            );
          }
          return null;
        })
      )}
    </svg>
  );
};
